depth = 0
map = {

}
if_c = 0

if 0 # map[depth (0)] = if_c  if_0
    # if_c += 1
     

    if 1 # map[depth (1)] = if_c if_1
        # if_c += 1

    elif 2 # map[depth - 1 (1)] elseif_1_0

    else 2 # map[depth - 1 (1)] else_1

    end 2 # map[depth - 1 (1)] end_1

end 1 # map[depth - 1 (0)] end_0